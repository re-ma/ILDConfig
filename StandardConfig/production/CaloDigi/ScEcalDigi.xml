<group name="EcalDigi">
  <!--### the Ecal barrel ###-->
  <!--### the even layer ###-->
  <!--digitisation -->
  <processor name="MyEcalBarrelDigiEven" type="RealisticCaloDigiScinPpd">
    <parameter name="inputHitCollections"> ECalBarrelScHitsEven </parameter>
    <parameter name="outputHitCollections"> ECalBarrelScHitsEvenDigi </parameter>
    <parameter name="outputRelationCollections"> ECalBarrelScEvenRelationsSimDigi </parameter>
    <parameter name="threshold"> 0.5 </parameter>
    <parameter name="thresholdUnit"> MIP </parameter>
    <parameter name="timingCut"> 1  </parameter>
    <parameter name="calibration_mip"> ${EcalBarrelMip} </parameter> <!-- ScECAL barrel case 0.0002407 -->
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="ppd_npix_uncert"> 0 </parameter>
    <parameter name="ppd_pix_spread"> 0 </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- reconstruction -->
  <processor name="MyEcalBarrelRecoEven" type="RealisticCaloRecoScinPpd">
    <parameter name="inputHitCollections"> ECalBarrelScHitsEvenDigi </parameter>
    <parameter name="inputRelationCollections"> ECalBarrelScEvenRelationsSimDigi </parameter>
    <parameter name="outputHitCollections"> ECalBarrelScEvenCollectionRec </parameter>
    <parameter name="outputRelationCollections"> ECalBarrelScEvenRelationsSimRec </parameter>
    <parameter name="calibration_layergroups"> 20 11 </parameter>
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="calibration_factorsMipGev"> ${EcalBarrelEnergyFactors} </parameter> <!-- ScECAL barrel case 0.006729 0.013458 -->
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!--### the odd layer ###-->
  <!--digitisation -->
  <processor name="MyEcalBarrelDigiOdd" type="RealisticCaloDigiScinPpd">
    <parameter name="inputHitCollections"> ECalBarrelScHitsOdd </parameter>
    <parameter name="outputHitCollections"> ECalBarrelScHitsOddDigi </parameter>
    <parameter name="outputRelationCollections"> ECalBarrelScOddRelationsSimDigi </parameter>
    <parameter name="threshold"> 0.5 </parameter>
    <parameter name="thresholdUnit"> MIP </parameter>
    <parameter name="timingCut"> 1  </parameter>
    <parameter name="calibration_mip"> ${EcalBarrelMip} </parameter> <!-- ScECAL barrel case 0.0002407 -->
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="ppd_npix_uncert"> 0 </parameter>
    <parameter name="ppd_pix_spread"> 0 </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- reconstruction -->
  <processor name="MyEcalBarrelRecoOdd" type="RealisticCaloRecoScinPpd">
    <parameter name="inputHitCollections"> ECalBarrelScHitsOddDigi </parameter>
    <parameter name="inputRelationCollections"> ECalBarrelScOddRelationsSimDigi </parameter>
    <parameter name="outputHitCollections"> ECalBarrelScOddCollectionRec </parameter>
    <parameter name="outputRelationCollections"> ECalBarrelScOddRelationsSimRec </parameter>
    <parameter name="calibration_layergroups"> 20 11 </parameter>
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="calibration_factorsMipGev"> ${EcalBarrelEnergyFactors} </parameter> <!-- ScECAL barrel case 0.006729 0.013458 -->
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- gap filling -->
  <processor name="MyEcalBarrelGapFiller" type="BruteForceEcalGapFiller">
    <parameter name="inputHitCollection"> EcalBarrelCollectionRec </parameter>
    <parameter name="outputHitCollection"> EcalBarrelCollectionGapHits </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
    <parameter name="CellIDModuleString"> module </parameter>
    <parameter name="CellIDStaveString"> stave </parameter>
    <parameter name="expectedInterModuleDistance"> 7.0 </parameter>
  </processor>
  <!--### the Ecal endcaps ###-->
  <!--### the even layer ###-->
  <!-- digitisation -->
  <processor name="MyEcalEndcapDigiEven" type="RealisticCaloDigiScinPpd">
    <parameter name="inputHitCollections"> ECalEndcapScHitsEven </parameter>
    <parameter name="outputHitCollections"> ECalEndcapScHitsEvenDigi </parameter>
    <parameter name="outputRelationCollections"> ECalEndcapScEvenRelationsSimDigi </parameter>
    <parameter name="threshold"> 0.5 </parameter>
    <parameter name="thresholdUnit"> MIP </parameter>
    <parameter name="timingCut"> 1  </parameter>
    <parameter name="calibration_mip"> ${EcalEndcapMip} </parameter> <!-- ScECAL Endcap case 0.0002472 -->
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="ppd_npix_uncert"> 0 </parameter>
    <parameter name="ppd_pix_spread"> 0 </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- reconstruction -->
  <processor name="MyEcalEndcapRecoEven" type="RealisticCaloRecoScinPpd">
    <parameter name="inputHitCollections"> ECalEndcapScHitsEvenDigi </parameter>
    <parameter name="inputRelationCollections"> ECalEndcapScEvenRelationsSimDigi </parameter>
    <parameter name="outputHitCollections"> ECalEndcapScEvenCollectionRec </parameter>
    <parameter name="outputRelationCollections"> ECalEndcapScEvenRelationsSimRec </parameter>
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="calibration_layergroups"> 20 11 </parameter>
    <parameter name="calibration_factorsMipGev"> ${EcalEndcapEnergyFactors} </parameter> <!-- ScECAL Endcap case 0.007256 0.014512 -->
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!--### the odd layer ###-->
  <!-- digitisation -->
  <processor name="MyEcalEndcapDigiOdd" type="RealisticCaloDigiScinPpd">
    <parameter name="inputHitCollections"> ECalEndcapScHitsOdd </parameter>
    <parameter name="outputHitCollections"> ECalEndcapScHitsOddDigi </parameter>
    <parameter name="outputRelationCollections"> ECalEndcapScOddRelationsSimDigi </parameter>
    <parameter name="threshold"> 0.5 </parameter>
    <parameter name="thresholdUnit"> MIP </parameter>
    <parameter name="timingCut"> 1  </parameter>
    <parameter name="calibration_mip"> ${EcalEndcapMip} </parameter> <!-- ScECAL Endcap case 0.0002472 -->
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="ppd_npix_uncert"> 0 </parameter>
    <parameter name="ppd_pix_spread"> 0 </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- reconstruction -->
  <processor name="MyEcalEndcapRecoOdd" type="RealisticCaloRecoScinPpd">
    <parameter name="inputHitCollections"> ECalEndcapScHitsOddDigi </parameter>
    <parameter name="inputRelationCollections"> ECalEndcapScOddRelationsSimDigi </parameter>
    <parameter name="outputHitCollections"> ECalEndcapScOddCollectionRec </parameter>
    <parameter name="outputRelationCollections"> ECalEndcapScOddRelationsSimRec </parameter>
    <parameter name="ppd_mipPe"> 7 </parameter>
    <parameter name="ppd_npix"> 10000 </parameter>
    <parameter name="calibration_layergroups"> 20 11 </parameter>
    <parameter name="calibration_factorsMipGev"> ${EcalEndcapEnergyFactors} </parameter> <!-- ScECAL Endcap case 0.007256 0.014512 -->
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- gap filling -->
  <processor name="MyEcalEndcapGapFiller" type="BruteForceEcalGapFiller">
    <parameter name="inputHitCollection"> EcalEndcapsCollectionRec </parameter>
    <parameter name="outputHitCollection"> EcalEndcapsCollectionGapHits </parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
    <parameter name="CellIDModuleString"> module </parameter>
    <parameter name="CellIDStaveString"> stave </parameter>
    <parameter name="expectedInterModuleDistance"> 7.0 </parameter>
  </processor>
  <!--### the Ecal endcap rings ###-->
  <!-- digitisation -->
  <processor name="MyEcalRingDigi" type="RealisticCaloDigiSilicon">
    <parameter name="inputHitCollections"> EcalEndcapRingCollection </parameter>
    <parameter name="outputHitCollections"> EcalEndcapRingCollectionDigi </parameter>
    <parameter name="outputRelationCollections"> EcalEndcapRingRelationsSimDigi </parameter>
    <parameter name="threshold"> 0.5 </parameter>
    <parameter name="timingCut"> 1  </parameter>
    <parameter name="calibration_mip">${EcalRingMip}</parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>
  <!-- reconstruction -->
  <processor name="MyEcalRingReco" type="RealisticCaloRecoSilicon">
    <parameter name="inputHitCollections"> EcalEndcapRingCollectionDigi </parameter>
    <parameter name="inputRelationCollections"> EcalEndcapRingRelationsSimDigi </parameter>
    <parameter name="outputHitCollections"> EcalEndcapRingCollectionRec </parameter>
    <parameter name="outputRelationCollections"> EcalEndcapRingRelationsSimRec </parameter>
    <parameter name="calibration_layergroups"> 20 11 </parameter>
    <parameter name="calibration_factorsMipGev">${EcalRingEnergyFactors}</parameter>
    <parameter name="CellIDLayerString"> layer </parameter>
  </processor>

  <processor name="myDDStripSplitter" type="DDStripSplitter">
    <parameter name="ECALcollections_oddLayers"> ECalBarrelScOddCollectionRec ECalEndcapScOddCollectionRec </parameter>
    <parameter name="ECALcollections_evenLayers"> ECalBarrelScEvenCollectionRec ECalEndcapScEvenCollectionRec </parameter>
    <parameter name="saveIntersectionCollection"> false </parameter>
    <parameter name="saveCheckRootHistograms"> false </parameter>
  </processor>

</group>
